<apex:page controller="agentController"  id="page1" readOnly="false" sidebar="false" renderAs="pdf">

    <!-- <apex:includeScript value="{!URLFOR($Resource.D3, '/d3.js')}" /> -->
    <apex:styleSheet value="https://ajax.googleapis.com/ajax/libs/jqueryui/1.10.2/themes/smoothness/jquery-ui.css" />
    <apex:includeScript value="{!URLFOR($Resource.ChartJs, 'Lib/js/jquery-2.1.3.min.js')}" />
    <apex:includeScript value="{!URLFOR($Resource.BootStrap334_old, 'bootstrap-3.3.4-dist/js/bootstrap.js')}" />
    <!-- <apex:stylesheet value="{!URLFOR($Resource.BootStrap334, 'bootstrap-3.3.4-dist/css/bootstrap.css')}" /> --> 
    <apex:includeScript value="{!URLFOR($Resource.ChartJs, 'Lib/js/knockout-3.3.0.js')}" />
    <apex:includeScript value="{!URLFOR($Resource.ChartJs, 'Lib/js/globalize.min.js')}" />
    <apex:includeScript value="{!URLFOR($Resource.ChartJs, 'Lib/js/dx.chartjs.js')}" />
    
    <style>
        .well1{
            background-color:'#33CC33';
        }    
        
        .no-gutter > [class*='col-'] {
            padding-right:50px;
            padding-left:50px;
            
        }
        
        .saveButton {
            width:500px;
            padding-bottom:30px;
        }
        
        .commentSaveButton {
            width:340px;
            margin: 0 auto;
            padding-bottom:15px;
        }
        
        .myActiveTab {
            background-color: #00BCD4; 
            color:white; 
            background-image:none;
        }
        
        .myInactiveTab {
            background-color: #B2EBF2; 
            color:black; 
            background-image:none;
        }
    </style>
    
    <script>
        var j$ = jQuery.noConflict();
        var unSatColor = "#F44336"; 
        var nIColor = "#FFEB3B"; 
        var goodColor = "#9C27B0"; 
        var supColor = "#2196F3"; 
        var outStandColor = "#4CAF50";
    
        function scaleValue(maxValue, minValue, actValue) {
            if (actValue > maxValue) {
                return maxValue + ((actValue - maxValue) *0.1);
            } else if (actValue < minValue) {
                return minValue - ((minValue - actValue) *0.1);
            } else {
                return actValue;
            }
        }
        
        //Chart data
        var dataSource = [{
        	month: 'August',
        	cpd: {!augCPD},
        	aht: {!augAHT},
        	ht: {!augHT},
        	co7m: {!augCO7M},
        	qbpa: {!augQBPA},
        	qerr: {!augQERR}
        }, {
        	month: 'September',
        	cpd: {!sepCPD},
        	aht: {!sepAHT},
        	ht: {!sepHT},
        	co7m: {!sepCO7M},
        	qbpa: {!sepQBPA},
        	qerr: {!sepQERR}
        }, {
        	month: 'October',
        	cpd: {!octCPD},
        	aht: {!octAHT},
        	ht: {!octHT},
        	co7m: {!octCO7M},
        	qbpa: {!octQBPA},
        	qerr: {!octQERR}
        }, {
        	month: 'November',
        	cpd: {!novCPD},
        	aht: {!novAHT},
        	ht: {!novHT},
        	co7m: {!novCO7M},
        	qbpa: {!novQBPA},
        	qerr: {!novQERR}
        }, {
        	month: 'December',
        	cpd: {!decCPD},
        	aht: {!decAHT},
        	ht: {!decHT},
        	co7m: {!decCO7M},
        	qbpa: {!decQBPA},
        	qerr: {!decQERR}
        }, {
        	month: 'January',
        	cpd: {!janCPD},
        	aht: {!janAHT},
        	ht: {!janHT},
        	co7m: {!janCO7M},
        	qbpa: {!janQBPA},
        	qerr: {!janQERR}
        },{
        	month: 'February',
        	cpd: {!febCPD},
        	aht: {!febAHT},
        	ht: {!febHT},
        	co7m: {!febCO7M},
        	qbpa: {!febQBPA},
        	qerr: {!febQERR}
        },{
        	month: 'March',
        	cpd: {!marCPD},
        	aht: {!marAHT},
        	ht: {!marHT},
        	co7m: {!marCO7M},
        	qbpa: {!marQBPA},
        	qerr: {!marQERR}
        },{
        	month: 'April',
        	cpd: {!aprCPD},
        	aht: {!aprAHT},
        	ht: {!aprHT},
        	co7m: {!aprCO7M},
        	qbpa: {!aprQBPA},
        	qerr: {!aprQERR}
        },{
        	month: 'May',
        	cpd: {!mayCPD},
        	aht: {!mayAHT},
        	ht: {!mayHT},
        	co7m: {!mayCO7M},
        	qbpa: {!mayQBPA},
        	qerr: {!mayQERR}
        },{
        	month: 'June',
        	cpd: {!junCPD},
        	aht: {!junAHT},
        	ht: {!junHT},
        	co7m: {!junCO7M},
        	qbpa: {!junQBPA},
        	qerr: {!junQERR}
        },{
        	month: 'July',
        	cpd: {!julCPD},
        	aht: {!julAHT},
        	ht: {!julHT},
        	co7m: {!julCO7M},
        	qbpa: {!julQBPA},
        	qerr: {!julQERR}
        }];
        
        var types = ["spline", "stackedSpline", "fullStackedSpline"];
    
        //On Page load
        j$(function() {
            DrawChart('chart', 'Contacts Per Day', dataSource, 'decimal', 0, 0, [{
                valueField: "cpd",
                name: "CPD"
            }]); 
            
            DrawChart('aht', 'Average Handle Time', dataSource, 'fixedPoint', 2, 1, [{
                valueField: "aht",
                name: "ACHT"
            }]);
            
            DrawChart('chart2', 'Percentages', dataSource, 'decmial', 2, 0, [{
                valueField: "ht",
                name: "Hold Time"
            }, {
                valueField: "co7m",
                name: "CO7M"
            }, {
                valueField: "qbpa",
                name: "QBPA"
            }, {
                valueField: "qerr",
                name: "QERR"
            }]);
            
            //List in filled in controller in order: 0 QBPA, 1 CPD, 2 ACHT, 3 HT, 4 CO7M, 5 QERR, 6 SA, 7 FUT
            //createLineChart(divId, title, nps, nvalue, value2, barStart, barEnd, afterText, unSatStart, unsatEnd, niStart, niEnd, gStart, gEnd, supStart, supEnd, outStart, outEnd, customTickArray)
            createLineChart('OverallContainer', 'Contacts Per Day Handled(CPD)', '33', scaleValue(100, 70, {!curCPD}), scaleValue(100, 70, {!prevCPD}), 59, 110, '', 59, 70, 70, 80, 80, 90, 90, 100, 100, 110, [70, 80, 90, 100]);
            createLineChart('AHTContainer', 'Average Handle Time (Seconds, m:ss)', '33', scaleValue(275, 235, {!curAHT}), scaleValue(275, 235, {!prevAHT}), 285, 225, '', 285, 275, 275, 261, 261, 245, 245, 235, 235, 225, [275, 261, 245, 235]);
            createLineChart('HoldContainer', 'Hold Time(% time, minutes per day)', '33', scaleValue(10, 5, {!curHT}), scaleValue(10, 5, {!prevHT}), 12, 3, '%', 12, 10, 10, 9, 9, 6, 6, 5, 5, 3, [ 10, 9, 6, 5]);
            createLineChart('SevenPlusContainer', 'Calls Over 7 Minutes(% of calls, Based on 85 CPD)', '33',scaleValue(18, 11, {!curCO7M}), scaleValue(18, 11, {!prevCO7M}), 20, 8, '%', 20, 18, 18, 16, 16, 14, 14, 11, 11, 8, [ 18, 16, 14, 11]);
            createLineChart('BPAContainer', 'Quality (BPA % score)', '33', scaleValue(90, 70, {!curQBPA}), scaleValue(90, 70, {!prevQBPA}), 65, 100, '%', 65, 70, 70, 75, 75, 85, 85, 90, 90, 100, [ 70, 75, 85,90,100]);
            createLineChart('ErrorContainer', 'Quality (Error Rate - % score)', '33', scaleValue(90, 70, {!curQERR}), scaleValue(90, 70, {!prevQERR}), 65, 100, '%', 65, 70, 70, 75, 75, 85, 85, 90, 90, 100, [ 70, 75, 85,90,100]);
            createLineChart('FollowUpContainer', 'Follow-up time(% of Time, Minutes Per Day)', '33', scaleValue(10, 3, {!curFUT}), scaleValue(10, 3, {!prevFUT}), 11, 3, '%', 11, 10, 10, 9, 9, 6, 6, 5, 5, 3,  [3,5, 6,  9, 10 ]);
            //createLineChart('AdheranceContainer', 'Schedule Adherance (WFM % score)', '33', scaleValue(100, 86, {!curSA}), scaleValue(100, 86, {!prevSA}), 84, 100, '%', 84, 86, 86, 90, 90, 93, 93, 96, 96, 100, [100, 96, 93, 90, 86]);
            
        });
        
        function createLineChart(divId, title, nps, nvalue, value2, barStart, barEnd, afterText,
            unSatStart, unsatEnd, niStart, niEnd, gStart, gEnd, supStart, supEnd, outStart, outEnd,
            customTickArray) {
            j$("#" + divId).dxLinearGauge({
                scale: {
                    startValue: barStart,
                    endValue: barEnd,
                    minerTickInterval: 0,
                    majorTickInterval: 12,
                    label: {
                        indentFromTick: 7,
                        customizeText: function() {
                            return this.valueText + afterText
                        }
                    },
                    majorTick: {
                        showCalculatedTicks: false,
                        customTickValues: customTickArray,
                        color: "#000"
                    }
                },
        
                title: {
                    text: title,
                    font: {
                        color: '#000',
                        weight: 700,
                        size: 15
                    }
                },
        
                rangeContainer: {
                    backgroundColor: "white",
                    ranges: [{
                            startValue: unSatStart,
                            endValue: unsatEnd,
                            color: unSatColor
                        }, {
                            startValue: niStart,
                            endValue: niEnd,
                            color: nIColor
                        }, {
                            startValue: gStart,
                            endValue: gEnd,
                            color: goodColor
                        }, {
                            startValue: supStart,
                            endValue: supEnd,
                            color: supColor
                        },
        
                        {
                            startValue: outStart,
                            endValue: outEnd,
                            color: outStandColor
                        }
                    ]
                },
        
                needles: [{
                    value: nps,
                    color: "#000"
                }],
                markers: [{
                    value: nps,
                    color: "#000"
                }],
                subvalueIndicator: {
                    length: 13,
                    width: 23,
                    type: 'triangleMarker',
                    color: '#3E8C8C'
                },
        
        
                value: nvalue,
                subvalues: [value2],
                valueIndicator: {
                    length: 13,
                    width: 23,
                    type: 'triangleMarker',
                    color: '#0044CC'
                }
        
            });
        }
        
        
        function DrawChart(divId, title, dataSource, postText, precision, mill, seriesNameValuePairArray) { 
            var chartOptions = {
                dataSource: dataSource,
                commonSeriesSettings: {
                    type: types[0],
                    argumentField: "month"
                },
                commonAxisSettings: {
                    grid: {
                        visible: true
                    }
                },
                margin: {
                    bottom: 20
                },
                series: seriesNameValuePairArray,
                tooltip:{
                    enabled: true
                },
                valueAxis: {
                    label: {
                        format: postText,
                        precision: precision,
                        customizeText: function (e) {
                            if (mill) {
                                return e.value + ' mm.ss'
                            } else if (divId == "chart2") {
                                  return e.value + '%'; 
                            } else {
                                return e.value; 
                            }
                            
                        }
                    }
                },
                legend: {
                    verticalAlignment: "top",
                    horizontalAlignment: "right"
                },
                title: title,
                redrawOnResize: true
            };
            var chart = j$("#"+divId).dxChart(chartOptions).dxChart("instance");
        }
        
        function createPDF() {
            //create pdf
            var pdf = new jsPDF('p','pt','a3');
            
            pdf.addHTML(j$("#table")[0], 15, 30, {
                //'width': 170,
                 //'margin': 1,
                'pagesplit': false,
            }, function() {
            	pdf.output('dataurlnewwindow');
            	//pdf.output('dataurl');
            });
        }
        
        /*
        function pdfHolder() {
            var pdf = new jsPDF('p','pt','letter');
            var name = "{!curAgent.Name__c}"; 
            var date = "{!curMonth}"; 
            var comments = "{!curAgent.Supervisor_comments__c}"; 
            j$("#printing-holder").append("<div id='printingDiv' style='background-color: white;'></div>");
            j$('#printingDiv').append("<div id='Name' style='background-color:white'>name</div>");
            j$('#printingDiv').append("<div id='Date' style='background-color:white'>date</div>");
            j$('#table').clone().appendTo("#printingDiv");
            j$('#printingDiv').append("<div id='comment' style='background-color:white'>comments</div>");
            pdf.addHTML(j$("#printingDiv"), {pagesplit: true}, function() {
                pdf.save('Test.pdf');
                j$("#printingDiv").remove();
            });
        } */
        
        function JPrint(){
             // Create the WScript
             var objWScriptShell = new ActiveXObject("WScript.Shell");
             // Send Keys
             objWScriptShell.SendKeys("(%f)u");
              // Change to landscape
             objWScriptShell.SendKeys("(%a)");
             objWScriptShell.SendKeys("~");      
            // Enter O.K.
             setTimeout("window.print()",500); 
        }
        
        function testImage() { 
            html2canvas(j$("#test"), {
                onrendered: function(canvas) {
                    theCanvas = canvas;
                    document.body.appendChild(canvas);
    
                    // Convert and download as image 
                    Canvas2Image.saveAsPNG(canvas); 
                    // Clean up 
                    //document.body.removeChild(canvas);
                }
            });
        }
        
        function testBody() {
            var pdf = new jsPDF('l','pt','a3');
            pdf.addHTML(document.body,function() {
            	pdf.save('Stats.pdf');
            	//pdf.output("dataurlnewwindow");
            });
        }
    </script>
    
    <apex:pageBlock >
            <div id="test" class="bs" style="height:100%;">
                <div class="row fullheight">
                    <div class="col-xs-6">
                        <apex:tabPanel switchType="server" selectedTab="lines" id="theTabPanel" tabClass="myActiveTab" inactiveTabClass="myInactiveTab">
                            <apex:tab label="Line Graph" name="lines" id="linesTab" onclick="DrawLines(); isLinesShown = true;">
                                <div class="panel panel-primary">
                                    <div class="panel-heading">Agent Metrics</div>
                                    <div class="panel-body">
                                        <div class="row">
                                            <table class="table table-hover table-condensed table-striped table-bordered" style="width: 60%; cellspacing=0; cellpadding=0 ">
                                                <tr>
                                                    <div class="row">
                                                        <div class="no-gutter">
                                                            <div class="col-xs-6 no-gutter">
                                                                <!-- This is CPD --> 
                                                                <span class="glyphicon glyphicon-triangle-bottom" aria-hidden="true" style="color:#0044CC; font-size:20px">
                                                                    <span style="align:left; font-size:20px">
                                                                        Current Score: 
                                                                        <apex:outputText value="{0, number, 0.00}" >
                                                                            <apex:param value="{!curCPD}"/>
                                                                        </apex:outputText>
                                                                    </span>
                                                                </span>
                                                            </div>
                                                            <div class="col-xs-6 no-gutter">
                                                                <span class="glyphicon glyphicon-triangle-bottom" aria-hidden="true" style="color:#3E8C8C;font-size:20px">
                                                                    <span style="align:right; font-size:20px">
                                                                        Prior Score: 
                                                                        <apex:outputText value="{0, number, 0.00}">
                                                                            <apex:param value="{!prevCPD}"/>
                                                                        </apex:outputText>
                                                                    </span>
                                                                </span>
                                                            </div>
                                                        </div>
                                                    </div>
                                                </tr>
                                                <tr>
                                                    <div class="First-Line">
                                                        <div id="OverallContainer" class="Container"></div>
                                                    </div>
                                                </tr>
                                                <!-- This is AHT -->
                                                <tr>
                                                    <div class="row">
                                                        <div class="no-gutter">
                                                            <div class="col-xs-6 no-gutter">
                                                                <span class="glyphicon glyphicon-triangle-bottom" aria-hidden="true" style="color:#0044CC; font-size:20px">
                                                                    <span style="align:left; font-size:20px">
                                                                        Current Score: 
                                                                        <apex:outputText value="{0, number, 0.00}" >
                                                                            <apex:param value="{!curAHT}"/>
                                                                        </apex:outputText>
                                                                    </span>
                                                                </span>
                                                            </div>
                                                            <div class="col-xs-6 no-gutter">
                                                                <span class="glyphicon glyphicon-triangle-bottom" aria-hidden="true" style="color:#3E8C8C;font-size:20px">
                                                                    <span style="align:right; font-size:20px">
                                                                        Prior Score: 
                                                                        <apex:outputText value="{0, number, 0.00}" >
                                                                            <apex:param value="{!prevAHT}"/>
                                                                        </apex:outputText>
                                                                    </span>
                                                                </span>
                                                            </div>
                                                        </div>
                                                    </div>
                                                </tr>
                                                <tr>
                                                    <div class="First-Line">
                                                        <div id="AHTContainer" class="Container"></div>
                                                    </div>
                                                </tr>
                                                <!-- This is HT -->
                                                <tr>
                                                    <div class="row">
                                                        <div class="no-gutter">
                                                            <div class="col-xs-6 no-gutter">
                                                                <span class="glyphicon glyphicon-triangle-bottom" aria-hidden="true" style="color:#0044CC; font-size:20px">
                                                                    <span style="align:left; font-size:20px">
                                                                        Current Score: 
                                                                        <apex:outputText value="{0, number, 0.00}" >
                                                                            <apex:param value="{!curHT}"/>
                                                                        </apex:outputText>
                                                                        %
                                                                    </span>
                                                                </span>
                                                            </div>
                                                            <div class="col-xs-6 no-gutter">
                                                                <span class="glyphicon glyphicon-triangle-bottom" aria-hidden="true" style="color:#3E8C8C;font-size:20px">
                                                                    <span style="align:right; font-size:20px">
                                                                        Prior Score: 
                                                                        <apex:outputText value="{0, number, 0.0}" >
                                                                            <apex:param value="{!prevHT}"/>
                                                                        </apex:outputText>
                                                                        %
                                                                    </span>
                                                                </span>
                                                            </div>
                                                        </div>
                                                    </div>
                                                </tr>
                                                <tr>
                                                    <div class="First-Line">
                                                        <div id="HoldContainer" class="Container"></div>
                                                    </div>
                                                </tr>
                                                <!-- This is CO7M -->
                                                <tr>
                                                    <div class="row">
                                                        <div class="no-gutter">
                                                            <div class="col-xs-6 no-gutter">
                                                                <span class="glyphicon glyphicon-triangle-bottom" aria-hidden="true" style="color:#0044CC; font-size:20px">
                                                                    <span style="align:left; font-size:20px">
                                                                        Current Score: 
                                                                        <apex:outputText value="{0, number, 0.0}" >
                                                                            <apex:param value="{!curCO7M}"/>
                                                                        </apex:outputText>
                                                                        %
                                                                    </span>
                                                                </span>
                                                            </div>
                                                            <div class="col-xs-6 no-gutter">
                                                                <span class="glyphicon glyphicon-triangle-bottom" aria-hidden="true" style="color:#3E8C8C;font-size:20px">
                                                                    <span style="align:right; font-size:20px">
                                                                        Prior Score: 
                                                                        <apex:outputText value="{0, number, 0.0}" >
                                                                            <apex:param value="{!prevCO7M}"/>
                                                                        </apex:outputText>
                                                                        %
                                                                    </span>
                                                                </span>
                                                            </div>
                                                        </div>
                                                    </div>
                                                </tr>
                                                <tr>
                                                    <div class="First-Line">
                                                        <div id="SevenPlusContainer" class="Container"></div>
                                                    </div>
                                                </tr>
                                                <!-- This is QBPA -->
                                                <tr>
                                                    <div class="row">
                                                        <div class="no-gutter">
                                                            <div class="col-xs-6 no-gutter">
                                                                <span class="glyphicon glyphicon-triangle-bottom" aria-hidden="true" style="color:#0044CC; font-size:20px">
                                                                    <span style="align:left; font-size:20px">
                                                                        Current Score: 
                                                                        <apex:outputText value="{0, number, 0.0}" >
                                                                            <apex:param value="{!curQBPA}"/>
                                                                        </apex:outputText>
                                                                        %
                                                                    </span>
                                                                </span>
                                                            </div>
                                                            <div class="col-xs-6 no-gutter">
                                                                <span class="glyphicon glyphicon-triangle-bottom" aria-hidden="true" style="color:#3E8C8C;font-size:20px">
                                                                    <span style="align:right; font-size:20px">
                                                                        Prior Score: 
                                                                        <apex:outputText value="{0, number, 0.0}" >
                                                                            <apex:param value="{!prevQBPA}"/>
                                                                        </apex:outputText>
                                                                        %
                                                                    </span>
                                                                </span>
                                                            </div>
                                                        </div>
                                                    </div>
                                                </tr>
                                                <tr>
                                                    <div class="First-Line">
                                                        <div id="BPAContainer" class="Container"></div>
                                                    </div>
                                                </tr>
                                                <!-- This is QERR -->
                                                <tr>
                                                    <div class="row">
                                                        <div class="no-gutter">
                                                            <div class="col-xs-6 no-gutter">
                                                                <span class="glyphicon glyphicon-triangle-bottom" aria-hidden="true" style="color:#0044CC; font-size:20px">
                                                                    <span style="align:left; font-size:20px">
                                                                        Current Score: 
                                                                        <apex:outputText value="{0, number, 0.0}" >
                                                                            <apex:param value="{!curQERR}"/>
                                                                        </apex:outputText>
                                                                        %
                                                                    </span>
                                                                </span>
                                                            </div>
                                                            <div class="col-xs-6 no-gutter">
                                                                <span class="glyphicon glyphicon-triangle-bottom" aria-hidden="true" style="color:#3E8C8C;font-size:20px">
                                                                    <span style="align:right; font-size:20px">
                                                                        Prior Score: 
                                                                        <apex:outputText value="{0, number, 0.0}" >
                                                                            <apex:param value="{!prevQERR}"/>
                                                                        </apex:outputText>
                                                                        %
                                                                    </span>
                                                                </span>
                                                            </div>
                                                        </div>
                                                    </div>
                                                </tr>
                                                <tr>
                                                    <div class="First-Line">
                                                        <div id="ErrorContainer" class="Container"></div>
                                                    </div>
                                                </tr>
                                                <!-- This is FUT -->
                                                <tr>
                                                    <div class="row">
                                                        <div class="no-gutter">
                                                            <div class="col-xs-6 no-gutter">
                                                                <span class="glyphicon glyphicon-triangle-bottom" aria-hidden="true" style="color:#0044CC; font-size:20px">
                                                                    <span style="align:left; font-size:20px">
                                                                        Current Score: 
                                                                        <apex:outputText value="{0, number, 0.0}" >
                                                                            <apex:param value="{!curFUT}"/>
                                                                        </apex:outputText>
                                                                        %
                                                                    </span>
                                                                </span>
                                                            </div>
                                                            <div class="col-xs-6 no-gutter">
                                                                <span class="glyphicon glyphicon-triangle-bottom" aria-hidden="true" style="color:#3E8C8C;font-size:20px">
                                                                    <span style="align:right; font-size:20px">
                                                                        Prior Score: 
                                                                        <apex:outputText value="{0, number, 0.0}" >
                                                                            <apex:param value="{!prevFUT}"/>
                                                                        </apex:outputText>
                                                                        %
                                                                    </span>
                                                                </span>
                                                            </div>
                                                        </div>
                                                    </div>
                                                </tr>
                                                <tr>
                                                    <div class="First-Line">
                                                        <div id="FollowUpContainer" class="Container"></div>
                                                    </div>
                                                </tr>
                                                <!-- This is SA -->
                                            <!--    <tr>
                                                    <div class="row">
                                                        <div class="no-gutter">
                                                            <div class="col-xs-6 no-gutter">
                                                                <span class="glyphicon glyphicon-triangle-bottom" aria-hidden="true" style="color:#0044CC; font-size:20px">
                                                                    <span style="align:left; font-size:20px">
                                                                        Current Score: 
                                                                        <apex:outputText value="{0, number, 0.0}" >
                                                                            <apex:param value="{!curSA}"/>
                                                                        </apex:outputText>
                                                                        %
                                                                    </span>
                                                                </span>
                                                            </div>
                                                            <div class="col-xs-6 no-gutter">
                                                                <span class="glyphicon glyphicon-triangle-bottom" aria-hidden="true" style="color:#3E8C8C;font-size:20px">
                                                                    <span style="align:right; font-size:20px">
                                                                        Prior Score: 
                                                                        <apex:outputText value="{0, number, 0.0}" >
                                                                            <apex:param value="{!prevSA}"/>
                                                                        </apex:outputText>
                                                                        %
                                                                    </span>
                                                                </span>
                                                            </div>
                                                        </div>
                                                    </div>
                                                </tr>
                                                <tr>
                                                    <div class="First-Line">
                                                        <div id="AdheranceContainer" class="Container"></div>
                                                    </div>
                                                </tr> -->
                                            </table>
                                        </div>
                                    </div>
                                </div>
                            </apex:tab>
                            <apex:tab label="Charts" name="charts" id="chartsTab" ontabenter="DrawChart(); isChartShown = true;">
                                <div id="container" style="width: 100%; height: 440px;">
                                    <div id="chart"></div>
                                    <center>
                                        <div style="display: inline-block; vertical-align: middle"></div>&nbsp;<div style="display: inline-block; vertical-align: middle" id="types"></div>
                                    </center>
                                </div>
                                <div id="container2" style="width: 100%; height: 440px;">
                                    <div id="chart2"></div>
                                    <center>
                                        <div style="display: inline-block; vertical-align: middle"></div>&nbsp;<div style="display: inline-block; vertical-align: middle" id="types"></div>
                                    </center>
                                </div>
                                <div id="container3" style="width: 100%; height: 440px;">
                                    <div id="aht"></div>
                                    <center>
                                        <div style="display: inline-block; vertical-align: middle"></div>&nbsp;<div style="display: inline-block; vertical-align: middle" id="types"></div>
                                    </center>
                                </div>
                            </apex:tab>
                        </apex:tabPanel>
                    </div>
                    <!-------------------------------------- Tables ----------------------------------------- -->
                    <div id="table" class="col-xs-6" style="background-color:white">
                        <div class="panel panel-primary">
                            <div class="panel-heading">Agent Statistics</div>
                            <div class="panel-body">
                                <div>
                                    <div style="float:left">
                                        <table class="table small right-text table-nonfluid2 table-condensed table-hover table-bordered table-curved table table-striped">
                                            <tbody>
                                                <tr style="float:left">Statistic..</tr>
                                                <apex:repeat value="{!AgentStatsTwoMonthsAgo}" var="u">
                                                    <tr>
                                                        <td>{!u.statName}</td>
                                                    </tr>
                                                </apex:repeat>
                                            </tbody>
                                        </table>
                                    </div>
                                    <div style="float: left">
                                        <table class="table small right-text table-nonfluid2 table-condensed table-hover table-bordered table-curved table table-striped">
                                            <tbody>
                                                <tr>Current Month Rank..</tr>
                                                <apex:repeat value="{!Rankings}" var="u">
                                                    <tr>
                                                        <td>
                                                            <apex:outputText value="{0, number, 0}">
                                                                <apex:param value="{!u.statValue}"/>
                                                            </apex:outputText>
                                                        </td>
                                                    </tr>
                                                </apex:repeat>
                                            </tbody>
                                        </table>
                                    </div>
                                    <div style="float: left">
                                        <table class="table small right-text table-nonfluid2 table-condensed table-hover table-bordered table-curved table table-striped">
                                            <tbody>
                                                <tr>Current Month..</tr>
                                                <apex:repeat value="{!AgentStatsPrevMonth}" var="u">
                                                    <tr>
                                                        <td style="background-color:{!u.color}">{!u.statValue}</td>
                                                    </tr>
                                                </apex:repeat>
                                                <tr>
                                                    <td>
                                                        {!curAgent.Schedule_Adherence_Percent__c}
                                                    </td>
                                                </tr>
                                                <tr>
                                                    <td>
                                                        {!curAgent.Communication_with_Sup__c}
                                                    </td>
                                                </tr>
                                                <tr>
                                                    <td>
                                                        {!curAgent.Dependability__c}
                                                    </td>
                                                </tr>
                                                <tr>
                                                    <td>
                                                        {!curAgent.Teamwork__c}
                                                    </td>
                                                </tr>
                                            </tbody>
                                        </table>
                                    </div>
                                    <div style="float: left">
                                        <table class="table small right-text table-nonfluid2 table-condensed table-hover table-bordered table-curved table table-striped">
                                            <tbody>
                                                <tr>Previous Month..</tr>
                                                <apex:repeat value="{!AgentStatsTwoMonthsAgo}" var="u">
                                                    <tr>
                                                        <td style="background-color:{!u.color}">{!u.statValue}</td>
                                                    </tr>
                                                </apex:repeat>
                                            </tbody>
                                        </table>
                                    </div>
                                    <div style="float: left">
                                        <table id="yearly_table" class="table small right-text table-nonfluid2 table-condensed table-hover table-bordered table-curved table table-striped">
                                            <tbody>
                                                <tr>Yearly Avg</tr>
                                                <apex:repeat value="{!YearlyAverages}" var="u">
                                                    <tr>
                                                        <td style="background-color:{!u.color}">{!u.statValue}</td>
                                                    </tr>
                                                </apex:repeat>
                                            </tbody>
                                        </table>
                                    </div>
                                </div>
                                <div style="width:340px">
                                    <div>
                                        <table id="total_table" class="table small right-text table-nonfluid2 table-condensed table-hover table-bordered table-curved table table-striped">
                                            <tbody>
                                                <tr>
                                                    <td>
                                                        <apex:outputLabel value="Total Points: "/>
                                                    </td>
                                                    <td style="background-color:{!totBackground}">
                                                        <apex:outputText value="{0, number, 0.00}">
                                                            <apex:param value="{!curTotal}"/>
                                                        </apex:outputText>
                                                    </td>
                                                </tr>
                                            </tbody>
                                        </table>
                                    </div>
                                    <table class="table small right-text table-nonfluid2 table-condensed table-hover table-bordered table-curved table table-striped">
                                        <tbody>
                                            <!-- Proper colors can be found on ColorCode.cls -->
                                            <tr>
                                                <!-- Red -->
                                                <td style="background-color:#F44336">Unsatisfactory</td>
                                                <td>0 to 25</td>
                                            </tr>
                                            <tr>
                                                <!-- Yellow -->
                                                <td style="background-color:#FFEB3B">Needs Improvement</td>
                                                <td>25 to 49</td>
                                            </tr>
                                            <tr>
                                                <!-- Purple -->
                                                <td style="background-color:#9C27B0">Good</td>
                                                <td>50 to 69</td>
                                            </tr>
                                            <tr>
                                                <!-- Blue -->
                                                <td style="background-color:#2196F3">Superior</td>
                                                <td>70 to 84</td>
                                            </tr>
                                            <tr>
                                                <!-- Green -->
                                                <td style="background-color:#4CAF50">Outstanding</td>
                                                <td>85 to 100</td>
                                            </tr>
                                        </tbody>
                                    </table>
                                </div>
                                <div class="tab-pane content" data-spy="scroll" id="report">
                                    <div style="float: right; width: 100%; cellspacing=0; cellpadding=0">
                                        <div id="ltable_div" style="float: right; width: 100%; cellspacing=0; cellpadding=0"></div>
                                        <div id="table_div" style="float: right; width: 100%; cellspacing=0; cellpadding=0"></div>
                                        <table class="table table-striped" id="ltable_div"></table>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                    <!-- Comment Section --> 
                    <div class="col-xs-6">
                        <div class="panel panel-primary">
                            <div class="panel-heading">Supervisor Comments</div>
                            <div class="panel-body">
                                {!curAgent.Supervisor_comments__c}"
                            </div>
                        </div>
                    </div>
                </div>
            </div>
    </apex:pageBlock>
    
</apex:page>